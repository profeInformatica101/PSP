<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Java: Clase Process y ProcessBuilder — Guía rápida</title>
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    :root{
      --bg-grad-1: #0d6efd;
      --bg-grad-2: #6610f2;
      --stdin-bg: #fde68a; /* amarillo */
      --stdout-bg: #bbf7d0; /* verde */
      --stderr-bg: #fecaca; /* rojo */
    }
    body{background: #f6f8fb;}
    header.hero{background: linear-gradient(135deg,var(--bg-grad-1),var(--bg-grad-2)); color:#fff;}
    .hero h1{font-weight: 800; letter-spacing:.3px;}
    .card{border:none; box-shadow: 0 10px 24px rgba(13,110,253,.08);}    
    .table thead th{background:#0f172a; color:#e2e8f0; border-color:#0f172a; text-transform:uppercase; font-size:.85rem; letter-spacing:.05rem;}
    .table-striped>tbody>tr:nth-of-type(odd)>*{background-color:#f9fbff;}
    .kbd{border:1px solid #cbd5e1; border-radius:.35rem; padding:.2rem .45rem; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; background:#fff;}
    .badge-type{font-weight:600;}
    .note{font-size:.95rem;}
    .method{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
    .stream-stdin{background:var(--stdin-bg); color:#78350f; font-weight:600; padding:.2rem .5rem; border-radius:.3rem;}
    .stream-stdout{background:var(--stdout-bg); color:#065f46; font-weight:600; padding:.2rem .5rem; border-radius:.3rem;}
    .stream-stderr{background:var(--stderr-bg); color:#7f1d1d; font-weight:600; padding:.2rem .5rem; border-radius:.3rem;}
  </style>
</head>
<body>
  <header class="hero py-5">
    <div class="container">
      <div class="row align-items-center g-4">
        <div class="col-lg-8">
          <h1 class="display-5 mb-2">Clase <span class="text-warning">Process</span> y <span class="text-warning">ProcessBuilder</span></h1>
          <p class="lead mb-0">Resumen visual y mejorado de los métodos más útiles para lanzar y gestionar procesos del sistema en Java.</p>
        </div>
        <div class="col-lg-4 text-lg-end">
          <a class="btn btn-light btn-lg" href="#tabla-process">Ir a Process</a>
          <a class="btn btn-outline-light btn-lg ms-2" href="#tabla-processbuilder">Ir a ProcessBuilder</a>
        </div>
      </div>
    </div>
  </header>

  <main class="container my-5">

    <!-- Tarjeta: Tabla clase Process -->
    <section id="tabla-process" class="mb-5">
      <div class="card">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="h3 mb-0">Métodos principales de <span class="text-primary">Process</span></h2>
            <span class="badge rounded-pill text-bg-primary">Java Platform</span>
          </div>
          <div class="table-responsive">
            <table class="table table-striped align-middle">
              <thead>
                <tr>
                  <th scope="col">Método</th>
                  <th scope="col">Tipo de retorno</th>
                  <th scope="col">Descripción</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="method">getOutputStream()</td>
                  <td><span class="badge text-bg-secondary badge-type">OutputStream</span></td>
                  <td>Flujo hacia la <span class="stream-stdin">STDIN (#0)</span> del proceso hijo. Útil para <em>escribir</em> datos en el proceso.</td>
                </tr>
                <tr>
                  <td class="method">getInputStream()</td>
                  <td><span class="badge text-bg-secondary badge-type">InputStream</span></td>
                  <td>Flujo desde la <span class="stream-stdout">STDOUT (#1)</span> del proceso hijo. Útil para <em>leer</em> la salida estándar.</td>
                </tr>
                <tr>
                  <td class="method">getErrorStream()</td>
                  <td><span class="badge text-bg-secondary badge-type">InputStream</span></td>
                  <td>Flujo desde la <span class="stream-stderr">STDERR (#2)</span> del proceso hijo para capturar errores.</td>
                </tr>
                <tr>
                  <td class="method">destroy()</td>
                  <td><span class="badge text-bg-secondary badge-type">void</span></td>
                  <td>Solicita la <strong>terminación ordenada</strong> del proceso hijo. El comportamiento exacto depende de la implementación y del SO. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#destroy()" target="_blank" rel="noopener">API oficial</a>.</td>
                </tr>
                <tr>
                  <td class="method">destroyForcibly()</td>
                  <td><span class="badge text-bg-secondary badge-type">Process</span></td>
                  <td>Finaliza el proceso <strong>de forma inmediata y forzosa</strong> (cuando es posible). Devuelve el propio proceso. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#destroyForcibly()" target="_blank" rel="noopener">API oficial</a>.</td>
                </tr>
                <tr>
                  <td class="method">waitFor()</td>
                  <td><span class="badge text-bg-secondary badge-type">int</span></td>
                  <td>Bloquea hasta que el proceso termina y devuelve su <em>código de salida</em>.</td>
                </tr>
                <tr>
                  <td class="method">waitFor(long timeout, TimeUnit unit)</td>
                  <td><span class="badge text-bg-secondary badge-type">boolean</span></td>
                  <td>Espera hasta <em>timeout</em>. Devuelve <span class="kbd">true</span> si terminó a tiempo.</td>
                </tr>
                <tr>
                  <td class="method">exitValue()</td>
                  <td><span class="badge text-bg-secondary badge-type">int</span></td>
                  <td>Obtiene el valor de retorno del proceso hijo (lanza excepción si aún no finalizó).</td>
                </tr>
                <tr>
                  <td class="method">isAlive()</td>
                  <td><span class="badge text-bg-secondary badge-type">boolean</span></td>
                  <td>Indica si el proceso sigue en ejecución.</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="small text-muted mb-3">Referencias: <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html" target="_blank" rel="noopener">Process (Java SE 17)</a> · <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessBuilder.html" target="_blank" rel="noopener">ProcessBuilder (Java SE 11+)</a></div>
          <p class="note text-muted mb-0"><strong>Consejo:</strong> usa hilos o <span class="kbd">Executors</span> para leer <span class="stream-stdout">STDOUT</span> y <span class="stream-stderr">STDERR</span> en paralelo y evitar bloqueos por búferes llenos.</p>
        </div>
      </div>
    </section>

    <!-- Tarjeta: Tabla ProcessBuilder -->
    <section id="tabla-processbuilder" class="mb-5">
      <div class="card">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="h3 mb-0">Métodos útiles de <span class="text-primary">ProcessBuilder</span></h2>
            <span class="badge rounded-pill text-bg-success">Construcción de procesos</span>
          </div>
          <div class="table-responsive">
            <table class="table table-striped align-middle">
              <thead>
                <tr>
                  <th scope="col">Método</th>
                  <th scope="col">Tipo de retorno</th>
                  <th scope="col">Descripción</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="method">ProcessBuilder(String... command)</td>
                  <td><span class="badge text-bg-secondary badge-type">Constructor</span></td>
                  <td>Crea un generador con el comando y argumentos. Alternativa: <span class="method">ProcessBuilder(List&lt;String&gt;)</span>.</td>
                </tr>
                <tr>
                  <td class="method">command(String...)</td>
                  <td><span class="badge text-bg-secondary badge-type">ProcessBuilder</span></td>
                  <td>Establece o reemplaza el comando. Devuelve el propio <em>builder</em> para encadenar.</td>
                </tr>
                <tr>
                  <td class="method">directory(File dir)</td>
                  <td><span class="badge text-bg-secondary badge-type">ProcessBuilder</span></td>
                  <td>Fija el directorio de trabajo del proceso.</td>
                </tr>
                <tr>
                  <td class="method">environment()</td>
                  <td><span class="badge text-bg-secondary badge-type">Map&lt;String,String&gt;</span></td>
                  <td>Devuelve un mapa modificable de variables de entorno para el proceso.</td>
                </tr>
                <tr>
                  <td class="method">redirectErrorStream(boolean)</td>
                  <td><span class="badge text-bg-secondary badge-type">ProcessBuilder</span></td>
                  <td>Si es <span class="kbd">true</span>, mezcla <span class="stream-stderr">STDERR</span> con <span class="stream-stdout">STDOUT</span>.</td>
                </tr>
                <tr>
                  <td class="method">redirectInput(File)</td>
                  <td><span class="badge text-bg-secondary badge-type">ProcessBuilder</span></td>
                  <td>Redirige la <span class="stream-stdin">STDIN</span> desde un archivo.</td>
                </tr>
                <tr>
                  <td class="method">redirectOutput(File)</td>
                  <td><span class="badge text-bg-secondary badge-type">ProcessBuilder</span></td>
                  <td>Redirige la <span class="stream-stdout">STDOUT</span> a un archivo.</td>
                </tr>
                <tr>
                  <td class="method">redirectError(File)</td>
                  <td><span class="badge text-bg-secondary badge-type">ProcessBuilder</span></td>
                  <td>Redirige la <span class="stream-stderr">STDERR</span> a un archivo.</td>
                </tr>
                <tr>
                  <td class="method">inheritIO()</td>
                  <td><span class="badge text-bg-secondary badge-type">ProcessBuilder</span></td>
                  <td>Hace que el proceso herede la <em>consola</em> actual.</td>
                </tr>
                <tr>
                  <td class="method">start()</td>
                  <td><span class="badge text-bg-secondary badge-type">Process</span></td>
                  <td>Lanza el proceso y devuelve el objeto <span class="kbd">Process</span>.</td>
                </tr>
              </tbody>
            </table>
          </div>
          <details class="mt-3">
            <summary class="fw-semibold">Ejemplo mínimo</summary>
            <pre class="mt-2 bg-light p-3 rounded border">
var pb = new ProcessBuilder("ping", "-c", "2", "example.com");
pb.redirectErrorStream(true);
Process p = pb.start();
try (var reader = new java.io.BufferedReader(new java.io.InputStreamReader(p.getInputStream()))) {
    reader.lines().forEach(System.out::println);
}
int code = p.waitFor();
System.out.println("Exit code: " + code);
            </pre>
          </details>
        </div>
      </div>
    </section>

    <!-- Notas finales -->
    <section class="mb-5">
      <div class="alert alert-info" role="alert">
        <div class="d-flex align-items-center">
          <div class="me-3">
            <span class="badge rounded-pill text-bg-info">Buenas prácticas</span>
          </div>
          <div>
            Evita bloqueos gestionando los flujos en hilos separados; considera <span class="method">redirectErrorStream(true)</span> si no necesitas distinguir entre <span class="stream-stdout">STDOUT</span> y <span class="stream-stderr">STDERR</span>.
          </div>
        </div>
      </div>
    </section>
    <!-- Tarjeta: Lectura y escritura de flujos -->
<section id="tabla-flujos" class="mb-5">
  <div class="card">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="h3 mb-0">Clases para gestionar flujos de texto</h2>
        <span class="badge rounded-pill text-bg-warning">I/O Streams</span>
      </div>
      <div class="table-responsive">
        <table class="table table-striped align-middle">
          <thead>
            <tr>
              <th scope="col">Clase</th>
              <th scope="col">Tipo</th>
              <th scope="col">Uso principal</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="method">InputStreamReader</td>
              <td><span class="badge text-bg-secondary">Reader</span></td>
              <td>
                Convierte un <code>InputStream</code> (bytes) en caracteres.  
                Se usa para leer texto desde <span class="stream-stdout">STDOUT</span> o <span class="stream-stderr">STDERR</span>.
              </td>
            </tr>
            <tr>
              <td class="method">BufferedReader</td>
              <td><span class="badge text-bg-secondary">Reader</span></td>
              <td>
                Envuelve un <code>Reader</code> y permite leer líneas completas (<code>readLine()</code>) de forma eficiente.
              </td>
            </tr>
            <tr>
              <td class="method">OutputStreamWriter</td>
              <td><span class="badge text-bg-secondary">Writer</span></td>
              <td>
                Convierte un <code>OutputStream</code> (bytes) en caracteres.  
                Se usa para escribir en la <span class="stream-stdin">STDIN</span> de un proceso.
              </td>
            </tr>
            <tr>
              <td class="method">BufferedWriter</td>
              <td><span class="badge text-bg-secondary">Writer</span></td>
              <td>
                Envuelve un <code>Writer</code> y añade búfer + métodos útiles (<code>newLine()</code>).  
                Ideal para mandar varias líneas al proceso.
              </td>
            </tr>
            <tr>
              <td class="method">PrintWriter</td>
              <td><span class="badge text-bg-secondary">Writer</span></td>
              <td>
                Facilita la escritura con <code>print</code>, <code>println</code>, <code>printf</code>.  
                Muy usado para enviar comandos al proceso.
              </td>
            </tr>
            <tr>
              <td class="method">Scanner</td>
              <td><span class="badge text-bg-secondary">Utility</span></td>
              <td>
                Envuelve un <code>InputStream</code> o <code>Reader</code> y permite leer tokens, números o texto fácilmente.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <details class="mt-3">
        <summary class="fw-semibold">Ejemplo: leer y escribir en un proceso</summary>
        <pre class="mt-2 bg-light p-3 rounded border">
Process p = new ProcessBuilder("cat").start();

// Escribir en STDIN del proceso
try (var writer = new BufferedWriter(new OutputStreamWriter(p.getOutputStream()))) {
    writer.write("Hola proceso\n");
    writer.flush();
}

// Leer desde STDOUT del proceso
try (var reader = new BufferedReader(new InputStreamReader(p.getInputStream()))) {
    String line = reader.readLine();
    System.out.println("Recibido: " + line);
}
        </pre>
      </details>
    </div>
  </div>
</section>

  </main>

  <footer class="pb-5 text-center text-muted small">
    Hecho con Bootstrap · Accesible, responsivo y listo para imprimir.
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
